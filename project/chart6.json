{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",


  "data": {
    "url": "https://raw.githubusercontent.com/MaxTuu/MaxTuu.GitHub.io/main/project/graph8_rebase_data.json"
  },

    "params": 
    [
      {
        "name": "grid",
        "select": "interval",
        "bind": "scales"
      },
      {
        "name": "highlight",
        "select": 
        {
          "type": "point",  
          "fields": ["Country"],
          "on": "mouseover"
        },      
        "value":null
      },

      {
        "name": "select", 
        "select": {"type": "point", "fields": ["Country"]}
      }
      ],


  "vconcat": [

    {
      "mark": "line",
      "height": 300,
      "width": 500,
      "encoding": {
        "x": {
          "field": "Year",
          "type": "ordinal"
        },
        "y": {
          "field": "rebase",
          "type": "quantitative"
        },
        "color": {
          "field": "Country",
          "legend": null
        },

    "opacity":
    {
      "condition": {"param": "select", "value": 1},
      "value": 0.2
    }

      }
    },



    {
      "data": {"url": "https://raw.githubusercontent.com/MaxTuu/MaxTuu.GitHub.io/main/project/graph8_ols_data.json"},
  
    "height": 50,
    "width": 500,


    "title": "Best performers of the past 5 Years",


  "mark": 
  {
    "type": "image", 
    "width": 50, 
    "height": 50
  },

  "encoding": {
    "x": 
    {
      "field": "regCoef", 
      "type": "quantitative", 
      "title": "Yearly relative change (Rebased: 2015)"
    },
    "y":
    {
      "field": "yAxisVal",
      "axis": null
    },

    "url": 
    {
      "field": "url", 
      "type": "nominal"
    },

    "opacity":
    {
      "condition": {"param": "select", "value": 1},
      "value": 0.2
    }
  }
  }
  ]
}
